<!DOCTYPE html>
<html lang="en" class="venu">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Discovery Form | Venu</title>
  <meta name="description" content="Tell us about your business so we can tailor your Venu. Quick discovery before checkout.">
  <link rel="icon" type="image/svg+xml" href="venu-favicon.svg">
  <link rel="stylesheet" href="venu.css">
  <link rel="stylesheet" href="venu-discovery.css">
</head>
<body class="venu-body">
  <header class="venu-header" id="venu-header">
    <div class="venu-header-inner">
      <a href="venu.html" class="venu-logo font-display">Venu</a>
      <button type="button" class="venu-nav-toggle" aria-label="Open menu" aria-expanded="false" aria-controls="venu-nav" id="venu-nav-toggle"></button>
      <nav class="venu-nav" id="venu-nav" aria-label="Main">
        <a href="venu.html#how-it-works">How it works</a>
        <a href="venu.html#pricing">Pricing</a>
        <a href="venu.html#demos">Demos</a>
        <a href="contact.html">Contact</a>
      </nav>
    </div>
  </header>

  <main id="main">
    <section class="venu-section venu-section-cream">
      <div class="venu-discovery-form" id="venu-discovery-form">
        <div class="venu-discovery-window">
          <p class="venu-discovery-step-counter" id="venu-step-counter" aria-live="polite">Step 1 of 6</p>
          <div class="venu-discovery-progress" role="progressbar" aria-valuenow="1" aria-valuemin="1" aria-valuemax="6" aria-label="Form progress">
            <div class="venu-discovery-progress-fill" id="venu-discovery-progress-fill"></div>
          </div>

          <div class="venu-discovery-panel is-active" id="venu-panel-1" data-step="1">
            <h2>About Your Business</h2>
            <p class="venu-discovery-panel-desc">We'll use this to personalize your Venu.</p>
            <div class="venu-form-block">
              <label for="venu-your-name">Your name <span aria-label="required">*</span></label>
              <input type="text" id="venu-your-name" name="your_name" required placeholder="e.g. Jane Smith">
              <label for="venu-business-name">Business name <span aria-label="required">*</span></label>
              <input type="text" id="venu-business-name" name="business_name" required placeholder="e.g. Smith Plumbing Co.">
              <label for="venu-email">Email <span aria-label="required">*</span></label>
              <input type="email" id="venu-email" name="email" required placeholder="you@yourbusiness.com">
              <label for="venu-phone">Business phone number <span aria-label="required">*</span></label>
              <input type="tel" id="venu-phone" name="phone" required placeholder="(555) 555-0123">
              <label for="venu-city">City <span aria-label="required">*</span></label>
              <input type="text" id="venu-city" name="city" required placeholder="Tampa">
              <label for="venu-state">State <span aria-label="required">*</span></label>
              <select id="venu-state" name="state" required>
                <option value="">Select state</option>
                <option value="AL">Alabama</option>
                <option value="AK">Alaska</option>
                <option value="AZ">Arizona</option>
                <option value="AR">Arkansas</option>
                <option value="CA">California</option>
                <option value="CO">Colorado</option>
                <option value="CT">Connecticut</option>
                <option value="DE">Delaware</option>
                <option value="FL">Florida</option>
                <option value="GA">Georgia</option>
                <option value="HI">Hawaii</option>
                <option value="ID">Idaho</option>
                <option value="IL">Illinois</option>
                <option value="IN">Indiana</option>
                <option value="IA">Iowa</option>
                <option value="KS">Kansas</option>
                <option value="KY">Kentucky</option>
                <option value="LA">Louisiana</option>
                <option value="ME">Maine</option>
                <option value="MD">Maryland</option>
                <option value="MA">Massachusetts</option>
                <option value="MI">Michigan</option>
                <option value="MN">Minnesota</option>
                <option value="MS">Mississippi</option>
                <option value="MO">Missouri</option>
                <option value="MT">Montana</option>
                <option value="NE">Nebraska</option>
                <option value="NV">Nevada</option>
                <option value="NH">New Hampshire</option>
                <option value="NJ">New Jersey</option>
                <option value="NM">New Mexico</option>
                <option value="NY">New York</option>
                <option value="NC">North Carolina</option>
                <option value="ND">North Dakota</option>
                <option value="OH">Ohio</option>
                <option value="OK">Oklahoma</option>
                <option value="OR">Oregon</option>
                <option value="PA">Pennsylvania</option>
                <option value="RI">Rhode Island</option>
                <option value="SC">South Carolina</option>
                <option value="SD">South Dakota</option>
                <option value="TN">Tennessee</option>
                <option value="TX">Texas</option>
                <option value="UT">Utah</option>
                <option value="VT">Vermont</option>
                <option value="VA">Virginia</option>
                <option value="WA">Washington</option>
                <option value="WV">West Virginia</option>
                <option value="WI">Wisconsin</option>
                <option value="WY">Wyoming</option>
              </select>
              <label for="venu-business-hours">Typical business hours <span aria-label="required">*</span></label>
              <select id="venu-business-hours" name="business_hours" required>
                <option value="">Select hours</option>
                <option value="mon-fri-8-5">Mon–Fri, 8 AM – 5 PM</option>
                <option value="mon-fri-9-6">Mon–Fri, 9 AM – 6 PM</option>
                <option value="mon-sat-8-5">Mon–Sat, 8 AM – 5 PM</option>
                <option value="mon-sat-9-6">Mon–Sat, 9 AM – 6 PM</option>
                <option value="7days-8-6">7 Days, 8 AM – 6 PM</option>
                <option value="custom">Custom (tell us in notes)</option>
              </select>
            </div>
            <div class="venu-discovery-actions">
              <span></span>
              <button type="button" class="venu-btn venu-btn-primary" id="venu-next-1">Next</button>
            </div>
          </div>

          <div class="venu-discovery-panel" id="venu-panel-2" data-step="2">
            <h2>Style & Preferences</h2>
            <p class="venu-discovery-panel-desc">Help us match your Venu to your brand.</p>
            <div class="venu-form-block">
              <label for="venu-business-type">Business type <span aria-label="required">*</span></label>
              <select id="venu-business-type" name="business_type" required>
                <option value="">Select type</option>
                <option value="plumbing">Plumbing</option>
                <option value="hvac">HVAC</option>
                <option value="electrical">Electrical</option>
                <option value="cleaning">Cleaning / Detail</option>
                <option value="beauty">Beauty / Nails / Hair</option>
                <option value="other">Other</option>
              </select>
              <label for="venu-words">Words that describe your business <span aria-label="required">*</span></label>
              <input type="text" id="venu-words" name="words_describe" required placeholder="e.g. reliable, local, family-owned">
              <label for="venu-additional-details">Additional details? <span aria-label="required">*</span></label>
              <p class="venu-discovery-field-hint">The more you share, the quicker we get you a quality product.</p>
              <textarea id="venu-additional-details" name="additional_details" required rows="5" placeholder="e.g. Brand color (hex #), theme, font preference, aesthetic..."></textarea>
            </div>
            <div class="venu-discovery-actions">
              <button type="button" class="venu-btn venu-btn-back" id="venu-back-2">Back</button>
              <button type="button" class="venu-btn venu-btn-primary" id="venu-next-2">Next</button>
            </div>
          </div>

          <div class="venu-discovery-panel" id="venu-panel-3" data-step="3">
            <h2>Your Services</h2>
            <p class="venu-discovery-panel-desc">List the services you offer. We'll use these to set up your booking page.</p>
            <div class="venu-form-block" id="venu-services-container">
              <div class="venu-service-entry venu-service-entry-card" data-service-index="0">
                <label for="venu-service-name-0">Service name <span aria-label="required">*</span></label>
                <input type="text" id="venu-service-name-0" name="service_name_0" required placeholder="e.g. Full Detail Package">
                <label for="venu-service-price-0">Price <span aria-label="required">*</span></label>
                <div class="venu-service-price-wrap">
                  <span class="venu-service-price-prefix">$</span>
                  <input type="number" id="venu-service-price-0" name="service_price_0" required min="0" step="0.01" placeholder="150">
                </div>
                <label for="venu-service-duration-0">Duration <span aria-label="required">*</span></label>
                <select id="venu-service-duration-0" name="service_duration_0" required>
                  <option value="">Select</option>
                  <option value="30">30 min</option>
                  <option value="45">45 min</option>
                  <option value="60">60 min</option>
                  <option value="90">90 min</option>
                  <option value="120">2 hours</option>
                  <option value="180">3 hours</option>
                  <option value="240">4 hours</option>
                  <option value="half-day">Half day</option>
                  <option value="full-day">Full day</option>
                </select>
              </div>
            </div>
            <button type="button" class="venu-btn venu-btn-back venu-add-service-btn" id="venu-add-service">+ Add another service</button>
            <div class="venu-discovery-actions">
              <button type="button" class="venu-btn venu-btn-back" id="venu-back-3">Back</button>
              <button type="button" class="venu-btn venu-btn-primary" id="venu-next-3">Next</button>
            </div>
          </div>

          <div class="venu-discovery-panel" id="venu-panel-4" data-step="4">
            <h2>Logo or Branding</h2>
            <p class="venu-discovery-panel-desc">Upload your logo or brand assets (optional). PNG, JPG, or SVG.</p>
            <div class="venu-discovery-file-drop" id="venu-file-drop">
              <p class="venu-discovery-file-drop-text">Drag files here or <label for="venu-logo-files">browse</label></p>
              <input type="file" id="venu-logo-files" name="logo_files" accept="image/*,.pdf" multiple>
            </div>
            <div class="venu-discovery-actions">
              <button type="button" class="venu-btn venu-btn-back" id="venu-back-4">Back</button>
              <button type="button" class="venu-btn venu-btn-primary" id="venu-next-4">Next</button>
            </div>
          </div>

          <div class="venu-discovery-panel" id="venu-panel-5" data-step="5">
            <h2>Anything Else?</h2>
            <p class="venu-discovery-panel-desc">Optional — deadlines, special requests, or how you'd like to use your Venu.</p>
            <div class="venu-form-block venu-discovery-textarea-block">
              <label for="venu-notes">Notes</label>
              <p class="venu-discovery-field-hint">Include any details about deposit requirements, cancellation policies, or specific booking preferences.</p>
              <textarea id="venu-notes" name="notes" rows="5" placeholder="e.g. Go live by Friday, prefer gold accent..."></textarea>
            </div>
            <div class="venu-discovery-actions">
              <button type="button" class="venu-btn venu-btn-back" id="venu-back-5">Back</button>
              <button type="button" class="venu-btn venu-btn-primary" id="venu-next-5">Next</button>
            </div>
          </div>

          <div class="venu-discovery-panel" id="venu-panel-6" data-step="6">
            <h2>You're Almost Done</h2>
            <p class="venu-discovery-panel-desc">Review your plan and proceed to secure checkout. We'll use your answers to tailor your Venu.</p>
            <p class="venu-discovery-panel-desc" id="venu-plan-summary"><strong>Plan:</strong> <span id="venu-plan-name">Venu</span></p>
            <div class="venu-discovery-actions">
              <button type="button" class="venu-btn venu-btn-back" id="venu-back-6">Back</button>
              <a href="#" id="venu-complete-checkout" class="venu-btn venu-btn-primary">Complete and Proceed to Payment</a>
            </div>
          </div>
        </div>
      </div>
    </section>
  </main>

  <footer class="venu-footer">
    <div class="venu-footer-main">
      <div class="venu-footer-brand">
        <a href="venu.html" class="venu-logo font-display">Venu</a>
        <p class="venu-footer-tagline">It's your Venu</p>
      </div>
      <nav class="venu-footer-links" aria-label="Footer">
        <a href="venu.html#how-it-works">How it works</a>
        <a href="venu.html#pricing">Pricing</a>
        <a href="venu.html#demos">Demos</a>
        <a href="contact.html">Contact</a>
      </nav>
      <p class="venu-footer-powered">Powered by <a href="index.html">H4 Services</a></p>
    </div>
    <div class="venu-footer-bottom">
      <p class="venu-footer-copy">© 2025 Venu. All rights reserved.</p>
    </div>
  </footer>

  <script>
    (function() {
      function initVenuDiscovery() {
        var form = document.getElementById('venu-discovery-form');
        if (!form) return;
        var counter = document.getElementById('venu-step-counter');
        var progressFill = document.getElementById('venu-discovery-progress-fill');
        var progressBar = form.querySelector('.venu-discovery-progress');
        var panels = form.querySelectorAll('.venu-discovery-panel');
        var totalSteps = 6;
        var currentStep = 1;

        function goToStep(step) {
          if (step < 1 || step > totalSteps) return;
          currentStep = step;
          counter.textContent = 'Step ' + step + ' of ' + totalSteps;
          if (progressFill) progressFill.style.width = (step / totalSteps) * 100 + '%';
          if (progressBar) progressBar.setAttribute('aria-valuenow', step);
          panels.forEach(function(p) {
            var isActive = parseInt(p.getAttribute('data-step'), 10) === step;
            p.classList.toggle('is-active', isActive);
          });
        }

        function validateStep1() {
          var name = document.getElementById('venu-your-name').value.trim();
          var biz = document.getElementById('venu-business-name').value.trim();
          var email = document.getElementById('venu-email').value.trim();
          var phone = document.getElementById('venu-phone').value.trim();
          var city = document.getElementById('venu-city').value.trim();
          var state = document.getElementById('venu-state').value;
          var hours = document.getElementById('venu-business-hours').value;
          if (!name) { document.getElementById('venu-your-name').focus(); return false; }
          if (!biz) { document.getElementById('venu-business-name').focus(); return false; }
          if (!email) { document.getElementById('venu-email').focus(); return false; }
          if (!phone) { document.getElementById('venu-phone').focus(); return false; }
          if (!city) { document.getElementById('venu-city').focus(); return false; }
          if (!state) { document.getElementById('venu-state').focus(); return false; }
          if (!hours) { document.getElementById('venu-business-hours').focus(); return false; }
          return true;
        }
        function validateStep3() {
          var entries = form.querySelectorAll('.venu-service-entry');
          for (var i = 0; i < entries.length; i++) {
            var nameEl = entries[i].querySelector('input[type="text"]');
            var priceEl = entries[i].querySelector('input[type="number"]');
            var durationEl = entries[i].querySelector('select');
            if (!nameEl || !nameEl.value.trim()) { if (nameEl) nameEl.focus(); return false; }
            if (!priceEl || !priceEl.value) { if (priceEl) priceEl.focus(); return false; }
            if (!durationEl || !durationEl.value) { if (durationEl) durationEl.focus(); return false; }
          }
          return true;
        }
        function validateStep2() {
          var type = document.getElementById('venu-business-type').value;
          var words = document.getElementById('venu-words').value.trim();
          var details = document.getElementById('venu-additional-details').value.trim();
          if (!type) { document.getElementById('venu-business-type').focus(); return false; }
          if (!words) { document.getElementById('venu-words').focus(); return false; }
          if (!details) { document.getElementById('venu-additional-details').focus(); return false; }
          return true;
        }

        document.getElementById('venu-next-1').addEventListener('click', function() {
          if (validateStep1()) goToStep(2);
        });
        document.getElementById('venu-next-2').addEventListener('click', function() {
          if (validateStep2()) goToStep(3);
        });
        document.getElementById('venu-next-3').addEventListener('click', function() {
          if (validateStep3()) goToStep(4);
        });
        document.getElementById('venu-next-4').addEventListener('click', function() { goToStep(5); });
        document.getElementById('venu-next-5').addEventListener('click', function() { goToStep(6); });

        document.getElementById('venu-back-2').addEventListener('click', function() { goToStep(1); });
        document.getElementById('venu-back-3').addEventListener('click', function() { goToStep(2); });
        document.getElementById('venu-back-4').addEventListener('click', function() { goToStep(3); });
        document.getElementById('venu-back-5').addEventListener('click', function() { goToStep(4); });
        document.getElementById('venu-back-6').addEventListener('click', function() { goToStep(5); });

        var completeBtn = document.getElementById('venu-complete-checkout');
        var planNameEl = document.getElementById('venu-plan-name');
        var params = new URLSearchParams(window.location.search);
        var product = (params.get('product') || 'venu').toLowerCase();
        if (product !== 'venu' && product !== 'venu-plus') product = 'venu';
        if (planNameEl) planNameEl.textContent = product === 'venu-plus' ? 'Venu+' : 'Venu';

        var FORMSPREE_ENDPOINT = 'https://formspree.io/f/maqdbyyo';
        var STRIPE_LINKS = {
          venu: 'https://buy.stripe.com/9B66oHev7dn07l1dnCeZ203',
          'venu-plus': 'https://buy.stripe.com/aFacN53Qt1Ei5cTabqeZ202'
        };
        var stripeUrl = STRIPE_LINKS[product] || STRIPE_LINKS.venu;

        var serviceCount = 1;
        var maxServices = 6;
        var container = document.getElementById('venu-services-container');
        var addBtn = document.getElementById('venu-add-service');
        var durationOptions = '<option value="">Select</option><option value="30">30 min</option><option value="45">45 min</option><option value="60">60 min</option><option value="90">90 min</option><option value="120">2 hours</option><option value="180">3 hours</option><option value="240">4 hours</option><option value="half-day">Half day</option><option value="full-day">Full day</option>';
        if (addBtn && container) {
          addBtn.addEventListener('click', function() {
            if (serviceCount >= maxServices) return;
            var idx = serviceCount;
            var card = document.createElement('div');
            card.className = 'venu-service-entry venu-service-entry-card';
            card.setAttribute('data-service-index', idx);
            card.innerHTML = '<button type="button" class="venu-service-remove" data-remove-index="' + idx + '">Remove</button>' +
              '<label for="venu-service-name-' + idx + '">Service name <span aria-label="required">*</span></label>' +
              '<input type="text" id="venu-service-name-' + idx + '" name="service_name_' + idx + '" required placeholder="e.g. Full Detail Package">' +
              '<label for="venu-service-price-' + idx + '">Price <span aria-label="required">*</span></label>' +
              '<div class="venu-service-price-wrap"><span class="venu-service-price-prefix">$</span><input type="number" id="venu-service-price-' + idx + '" name="service_price_' + idx + '" required min="0" step="0.01" placeholder="150"></div>' +
              '<label for="venu-service-duration-' + idx + '">Duration <span aria-label="required">*</span></label>' +
              '<select id="venu-service-duration-' + idx + '" name="service_duration_' + idx + '" required>' + durationOptions + '</select>';
            container.appendChild(card);
            card.querySelector('.venu-service-remove').addEventListener('click', function() {
              card.remove();
              serviceCount--;
            });
            serviceCount++;
            if (serviceCount >= maxServices) addBtn.style.display = 'none';
          });
          if (serviceCount >= maxServices) addBtn.style.display = 'none';
        }

        completeBtn.addEventListener('click', function(e) {
          e.preventDefault();
          var btn = this;
          var originalText = btn.textContent;
          btn.textContent = 'Sending…';
          btn.style.pointerEvents = 'none';

          var planLabel = product === 'venu-plus' ? 'Venu+' : 'Venu';
          var subject = 'Venu Discovery: ' + document.getElementById('venu-business-name').value.trim() + ' (' + planLabel + ')';

          var formData = new FormData();
          formData.append('your_name', document.getElementById('venu-your-name').value.trim());
          formData.append('business_name', document.getElementById('venu-business-name').value.trim());
          formData.append('email', document.getElementById('venu-email').value.trim());
          formData.append('phone', document.getElementById('venu-phone').value.trim());
          formData.append('city', document.getElementById('venu-city').value.trim());
          formData.append('state', document.getElementById('venu-state').value);
          formData.append('business_hours', document.getElementById('venu-business-hours').value);
          formData.append('business_type', document.getElementById('venu-business-type').value);
          formData.append('words_describe', document.getElementById('venu-words').value.trim());
          formData.append('additional_details', document.getElementById('venu-additional-details').value.trim());
          formData.append('notes', document.getElementById('venu-notes').value.trim());
          formData.append('plan', planLabel);
          formData.append('_subject', subject);
          var serviceEntries = form.querySelectorAll('.venu-service-entry');
          serviceEntries.forEach(function(entry, s) {
            var sn = entry.querySelector('input[type="text"]');
            var sp = entry.querySelector('input[type="number"]');
            var sd = entry.querySelector('select');
            if (sn && sp && sd && sn.value.trim()) {
              formData.append('service_name_' + s, sn.value.trim());
              formData.append('service_price_' + s, sp.value);
              formData.append('service_duration_' + s, sd.value);
            }
          });

          var logoInput = document.getElementById('venu-logo-files');
          if (logoInput && logoInput.files && logoInput.files.length) {
            for (var i = 0; i < logoInput.files.length; i++) {
              formData.append('logo_files', logoInput.files[i]);
            }
          }

          fetch(FORMSPREE_ENDPOINT, {
            method: 'POST',
            body: formData
          })
            .then(function(res) {
              if (res.ok) {
                window.location.href = stripeUrl;
                return;
              }
              throw new Error('Form submit failed');
            })
            .catch(function() {
              btn.textContent = originalText;
              btn.style.pointerEvents = '';
              alert('Could not send your details. Please check your connection and try again, or contact us directly.');
            });
        });

        goToStep(1);
      }
      if (document.readyState === 'loading') {
        document.addEventListener('DOMContentLoaded', initVenuDiscovery);
      } else {
        initVenuDiscovery();
      }
    })();
  </script>
  <script>
    (function() {
      var drop = document.getElementById('venu-file-drop');
      var input = document.getElementById('venu-logo-files');
      if (drop && input) {
        ['dragenter', 'dragover', 'dragleave', 'drop'].forEach(function(ev) {
          drop.addEventListener(ev, function(e) {
            e.preventDefault();
            e.stopPropagation();
            drop.classList.toggle('is-dragover', ev === 'dragenter' || ev === 'dragover');
          });
        });
        drop.addEventListener('drop', function(e) {
          var files = e.dataTransfer.files;
          if (files.length) input.files = files;
        });
      }
    })();
  </script>
  <script>
    (function() {
      var header = document.getElementById('venu-header');
      var toggle = document.getElementById('venu-nav-toggle');
      var nav = document.getElementById('venu-nav');
      function onScroll() {
        if (header) header.classList.toggle('venu-header-scrolled', window.scrollY > 30);
      }
      window.addEventListener('scroll', onScroll, { passive: true });
      onScroll();
      if (toggle && nav) {
        toggle.addEventListener('click', function() {
          var open = nav.classList.toggle('is-open');
          toggle.setAttribute('aria-expanded', open);
          toggle.setAttribute('aria-label', open ? 'Close menu' : 'Open menu');
        });
      }
    })();
  </script>
</body>
</html>
